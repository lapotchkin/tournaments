{"version":3,"file":"/js/playoffModule.js","mappings":"AAAAA,OAAOC,qBAAwB,WAC3B,IAAIC,GAAiB,EACjBC,EAAO,KACPC,EAAQ,OAEZ,MAAO,CACHC,KAGJ,SAAeC,GAAoB,IAAfC,EAAe,uDAAR,OACnBL,IACJA,GAAiB,EACjBC,EAAOG,EACPF,EAAQG,EACRC,EAAE,aAAaC,GAAG,QAASC,MAG/B,SAASA,EAAiBC,GACtBA,EAAMC,iBACN,IACMC,EADUL,EAAEM,MACIC,QAAQ,MAE1BC,GAAUH,EAAMI,KAAK,MACnBC,EAAW,CACbC,MAAON,EAAME,QAAQ,iCAAiCK,QAAU,EAChEC,KAAMR,EAAMO,QAAU,GAEpBE,GAAmBT,EAAMU,KAAK,eAAiBnB,EAAQ,YAAYoB,MACnEC,GAAmBZ,EAAMU,KAAK,eAAiBnB,EAAQ,YAAYoB,MACrEF,IAAiBJ,EAASd,EAAQ,WAAakB,GAC/CG,IAAiBP,EAASd,EAAQ,WAAaqB,GAInDC,eAAeC,iBACfnB,EAAEoB,KAAK,CACHC,QAAS,CACL,eAAgBrB,EAAE,2BAA2BsB,KAAK,YAEtDC,KAAMf,EAAS,OAAS,MACxBV,IAAKU,EAASb,EAAK6B,WAAa,IAAMhB,EAASb,EAAK6B,WACpDf,KAAMgB,KAAKC,UAAUhB,GACrBiB,SAAU,OACVC,YAAa,OACbC,aAAa,EACbC,QAAS,SAAUC,GACfb,eAAec,gBACfd,eAAee,iBAAiBF,EAASG,SACzC,IAAMC,EAAQ9B,EAAMU,KAAK,YACrBgB,EAAStB,KAAK2B,KACd5B,EAASuB,EAAStB,KAAK2B,GACvB/B,EAAMI,KAAK,KAAMD,IAEjB2B,EAAME,SACNF,EAAMb,KAAK,OAAQa,EAAMb,KAAK,QAAU,IAAMd,EAAS,QACvD2B,EAAMG,SAGdC,MAAOrB,eAAesB,YACtBC,QAASvB,kBA3DU","sources":["webpack:///./resources/js/playoffModule.js"],"sourcesContent":["window.TRNMNT_playoffModule = (function () {\n    let _isInitialized = false;\n    let _url = null;\n    let _mode = 'team';\n\n    return {\n        init: _init,\n    };\n\n    function _init(url, mode = 'team') {\n        if (_isInitialized) return;\n        _isInitialized = true;\n        _url = url;\n        _mode = mode;\n        $('.savePair').on('click', _onClickSavePair);\n    }\n\n    function _onClickSavePair(event) {\n        event.preventDefault();\n        const $button = $(this);\n        const $pair = $button.closest('li');\n\n        let pairId = +$pair.data('id');\n        const formData = {\n            round: $pair.closest('div.tournament-bracket__round').index() + 1,\n            pair: $pair.index() + 1,\n        };\n        const competitorOneId = +$pair.find('select[name=' + _mode + '_one_id]').val();\n        const competitorTwoId = +$pair.find('select[name=' + _mode + '_two_id]').val();\n        if (competitorOneId) formData[_mode + '_one_id'] = competitorOneId;\n        if (competitorTwoId) formData[_mode + '_two_id'] = competitorTwoId;\n\n        // if (!competitorOneId && !competitorTwoId) return;\n\n        TRNMNT_helpers.disableButtons();\n        $.ajax({\n            headers: {\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n            },\n            type: pairId ? 'post' : 'put',\n            url: pairId ? _url.createPair + '/' + pairId : _url.createPair,\n            data: JSON.stringify(formData),\n            dataType: 'json',\n            contentType: 'json',\n            processData: false,\n            success: function (response) {\n                TRNMNT_helpers.enableButtons();\n                TRNMNT_helpers.showNotification(response.message);\n                const $link = $pair.find('.addGame');\n                if (response.data.id) {\n                    pairId = response.data.id;\n                    $pair.data('id', pairId);\n                }\n                if ($link.length) {\n                    $link.attr('href', $link.attr('href') + '/' + pairId + '/add');\n                    $link.show();\n                }\n            },\n            error: TRNMNT_helpers.onErrorAjax,\n            context: TRNMNT_helpers\n        });\n    }\n}());\n"],"names":["window","TRNMNT_playoffModule","_isInitialized","_url","_mode","init","url","mode","$","on","_onClickSavePair","event","preventDefault","$pair","this","closest","pairId","data","formData","round","index","pair","competitorOneId","find","val","competitorTwoId","TRNMNT_helpers","disableButtons","ajax","headers","attr","type","createPair","JSON","stringify","dataType","contentType","processData","success","response","enableButtons","showNotification","message","$link","id","length","show","error","onErrorAjax","context"],"sourceRoot":""}