(()=>{var t={6458:(t,e,r)=>{"use strict";function n(t){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).on("click",t.selector,(function(e){e.preventDefault();var r=$(this),n=r.data("id"),o=n?t.url+"/"+n:t.url;confirm("Точно удалить?")&&$.ajax({type:"delete",url:o,dataType:"json",success:function(e){TRNMNT_helpers.enableButtons(),t.success(e,r)},error:TRNMNT_helpers.onErrorAjax})}))}r.d(e,{Z:()=>n})},9973:(t,e,r)=>{"use strict";function n(t){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(t.selector).submit((function(e){e.preventDefault(),TRNMNT_helpers.disableButtons();for(var r=$(this),n=r.serializeArray(),o={},a=0;a<n.length;a+=1){if(n[a].value)switch(n[a].value){case"on":case"off":o[n[a].name]=1;break;default:o[n[a].name]=n[a].value}var i=r.find("[name="+n[a].name+"]");i.removeClass("is-invalid"),i.closest(".form-group").find(".invalid-feedback").empty()}$.ajax({type:t.method,url:t.url,data:o,dataType:"json",success:function(e){TRNMNT_helpers.enableButtons(),t.success(e)},error:function(t){for(var e in TRNMNT_helpers.onErrorAjax(t),t.responseJSON.errors){var n=t.responseJSON.errors[e],o=r.find("[name="+e+"]");o.addClass("is-invalid");for(var a="",i=0;i<n.length;i+=1)a+=n[i]+"<br>";o.closest(".form-group").find(".invalid-feedback").html(a)}}})}))}r.d(e,{Z:()=>n})},312:(t,e,r)=>{"use strict";function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{Z:()=>a});const a={showPreLoader:function(){$('<div id="bigPreloader"></div>').appendTo("body").html('\n                <span style="vertical-align:middle; display: table-cell;">\n                    <i class="fas fa-cog fa-spin fa-7x"></i>\n                </span>').css({position:"fixed",width:"100%",height:"100%",background:"rgba(255,255,255,0.9)",top:0,left:0,"z-index":1e5,"text-align":"center",display:"table"})},hidePreLoader:function(){$("#bigPreloader").remove()},disableButtons:function(t){$("input[type=submit], input[type=button], button").prop("disabled",!0),this.hidePreLoader(),t||this.showPreLoader()},enableButtons:function(){$("input[type=submit], input[type=button], button").prop("disabled",!1),this.hidePreLoader()},showNotification:function(t,e){var r={blockClass:"alert",duration:1e4,animationDuration:500,alertType:"success",types:{success:"alert-success",info:"alert-info",warning:"alert-warning",error:"alert-danger"},position:"se",margin:30},n={nw:{top:r.margin+"px",left:r.margin+"px"},ne:{top:r.margin+"px",right:r.margin+"px"},sw:{bottom:r.margin+"px",left:r.margin+"px"},se:{bottom:r.margin+"px",right:r.margin+"px"}};e=e||{},$.extend(!0,r,e);var o=-1!==["sw","se"].indexOf(r.position)?"bottom":"top",a=$('<div class="notification '+r.blockClass+" "+r.types[r.alertType]+'"></div>').click((function(t){var e,n,a,i;t.preventDefault(),e=$(this),n=$("."+r.blockClass),a=e.height()+2*parseInt(e.css("padding"))+10,i=n.index(e),e.hide(),n.each((function(t,e){var r=$(e);t<i&&r.css(o,parseInt(r.css(o))-a+"px")})),e.remove()})).css($.extend(!0,n[r.position],{position:"fixed",display:"none","z-index":1050})).appendTo("body").html(t).animate({opacity:"show"},r.animationDuration).delay(r.duration).animate({opacity:"hide"},r.animationDuration).delay(r.animationDuration).queue((function(){$(this).remove()}));$("."+r.blockClass).not(a).each((function(t,e){var r=$(e),n=a.height()+2*parseInt(a.css("padding"))+10;r.css(o,parseInt(r.css(o))+n+"px")}))},hideNotifications:function(){$(".notification").remove()},getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},jsonStringify:function(t,e){var r=JSON.stringify(t);return e?r:r.replace(/(\\\\)/g,"/").replace(/(\\n)/g," ").replace(/(\s+\\")/g," «").replace(/("\\")/g,'"«').replace(/(\\")/g,"»")},parseUrl:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,r=document.createElement("a"),n=null,o=[];r.href=e,(t=r.search.replace("?","")).length&&(n={},(t=(t=decodeURI(t)).split("&")).forEach((function(t){var e=t.split("=");n[e[0]]=e[1]}))),t=r.pathname.split("/");for(var a=0;a<t.length;a++)""!==t[a]&&o.push(t[a]);return{url:r.href,protocol:r.protocol.replace(":",""),host:r.host,port:r.port,path:r.pathname,search:r.search,params:n,segments:o}},onErrorAjax:function(t){var e;if(void 0!==t.responseText){var r=(e=JSON.parse(t.responseText)).message;if(e.errors)for(var o in e.errors){var a,i=n(e.errors[o]);try{for(i.s();!(a=i.n()).done;){var s=a.value;r+="<br>".concat(o,": ").concat(s)}}catch(t){i.e(t)}finally{i.f()}}this.showNotification(r,{alertType:"error"})}else this.showNotification("Server error.",{alertType:"error"});this.enableButtons(),this.hidePreLoader()},updateCount:function(t,e){var r=$(t),n=parseInt(r.text())-1,o=r.parent();r.text(n),0===n&&(o.text(o.text().replace(/\s+\(.*/,"")),e&&$(e).show())},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},validateUrl:function(t){return/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/.test(t)},getDatePickerSettings:function(){return{format:"yyyy-mm-dd",weekStart:1,todayHighlight:!0,autoclose:!0,language:"ru"}},convertTimeStringToSeconds:function(t){for(var e=t.split(":"),r=0,n=0;n<e.length;n+=1){var o=60*-(n+1-e.length);r+=e[n]*(o||1)}return r},convertSecondsToTimeString:function(t){var e=new Date(1e3*t);return(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}window.TRNMNT_sendData=r(9973).Z,window.TRNMNT_deleteData=r(6458).Z,window.TRNMNT_helpers=r(312).Z,Date.prototype.getShortDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=_.padStart(this.getDate().toString(),2,"0"),n=_.padStart((this.getMonth()+1).toString(),2,"0");return e?this.getFullYear()+t+n+t+r:r+t+n+t+this.getFullYear()},Date.prototype.getFullDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",e=_.padStart(this.getDate().toString(),2,"0"),r=_.padStart((this.getMonth()+1).toString(),2,"0"),n=_.padStart(this.getHours().toString(),2,"0"),o=_.padStart(this.getMinutes().toString(),2,"0");return e+t+r+t+this.getFullYear()+" "+n+":"+o},Date.prototype.getDayBegin=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)},String.prototype.format=function(){var e=-1,r=arguments;return this.replace(/#\{(.*?)\}/g,(function(n,o){return"object"===t(r[0])?r[0][o]:r[++e]}))}})()})();
//# sourceMappingURL=app.js.map