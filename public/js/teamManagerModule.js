window.TRNMNT_playoffModule=function(){var e=!1,a=null,t=null;return{init:function(o,l){e||(e=!0,a=o,t=l,TRNMNT_sendData({selector:"#player-add",method:"put",url:a.addPlayer,success:s}),TRNMNT_deleteData({selector:".delete-player",url:a.deletePlayer,success:n}),$(document).on("click",".captain-toggle button",r))}};function s(e){var s=$("#player_id"),n=s.val(),r=$("#player_id option[value="+n+"]"),o=l(r);console.log(o);var c=$("#team-players tbody"),d=$(t.row.format({id:n,tag:o[0],name:o[1]?o[1]:""})),u=c.find("tr");u.length?u.each((function(e,a){var t=$(a),s=i(t.closest("tr").find("td").eq(1));return console.log(s),s[0].toLowerCase()>o[0].toLowerCase()?(t.before(d),!1):u.length===e+1?(t.after(d),!1):void 0})):window.location.href=a.addPlayerRedirect,s.val(""),r.remove()}function n(e,a){var t=a.closest("tr"),s=t.data("id"),n=i(t.find("td").eq(1)),r=$("#player_id"),o='<option value="'+s+'">'+n[0]+(n[1]?"("+n[1]+")":"")+"</option>",c=$(o);r.find("option").each((function(e,a){if(e>0){var t=$(a);if(l(t)[0].toLowerCase()>n[0].toLowerCase())return t.before(c),!1}})),t.remove()}function r(e){e.preventDefault();var t=$(this);if(!t.hasClass("active")){var s=t.siblings(),n=t.closest("tr").data("id"),r=+t.data("captain");1===r&&t.closest("tbody").find(".captain-toggle button[data-captain=1]").each((function(e,a){var t=$(a);t.hasClass("active")&&(t.removeClass("active"),t.siblings("button[data-captain=0]").addClass("active"),o(t,0))})),o(t,r),t.addClass("active"),s.removeClass("active"),TRNMNT_helpers.disableButtons(),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"post",url:a.updatePlayer+"/"+n,data:"isCaptain="+r,processData:!1,success:TRNMNT_helpers.enableButtons,error:TRNMNT_helpers.onErrorAjax,context:TRNMNT_helpers})}}function o(e,a){var t=e.closest("tr").find("td").eq(0);switch(t.empty(),a){case 1:t.html('<span class="badge bg-success">C</span>');break;case 2:t.html('<span class="badge bg-warning">A</span>')}}function l(e){for(var a=e.text().split(" ("),t=0;t<a.length;t+=1)a[t]=a[t].trim().replace(")","");return a}function i(e){var a=e.html(),t=a.match(/<a[\s\w=\":\/\-\.]+>([А-Яа-яЁё\w\s\-\_]+)<\/a>/),s=a.match(/<small>([А-Яа-яЁё\w\s]+)/);return[t&&t[1]?t[1]:"",s&&s[1]?s[1]:""]}}();
//# sourceMappingURL=teamManagerModule.js.map